Bases  de  
Datos 1 


Alejandra Lliteras Prof. Titular
Federico Orlando Prof. Adjunto 

TEMAS GENERALES 
B ases de Datos 1 
1 2 3 4 5 

Modelo de  Datos 
TeorÃ­a de  DiseÃ±o de  Bases de  Datos  
Ãlgebra  Relacional 
DBMS  
Relacional MySQL 
VisualizaciÃ³n  de Datos 

TEMAS Y SUBTEMAS 
Vimos la clase pasada
TeorÃ­a de DiseÃ±o de Bases de Datos Relacionales C onceptos Generales: 
â–ªC lave de una relaciÃ³n 
â–ªC lave candidata 
â–ªSuperclave 
â–ªAxiomas de Armstrong 
â–ªC lausura de un conjunto de atributos 
NormalizaciÃ³n: 
â–ªDescomposiciÃ³n 
â–ªPÃ©rdida de InformaciÃ³n 
â–ªPÃ©rdida de Dependencias Funcionales â–ªFormas Normales 
â–ªBoyce y Codd (BCNF) 
TEMAS Y SUBTEMAS 
Hoy veremosâ€¦
TeorÃ­a de DiseÃ±o de Bases de Datos  Relacionales 
Proceso de NormalizaciÃ³n a BCNF Algoritmo para analizar pÃ©rdida de dfs 3ra Forma Normal 
Proceso de NormalizaciÃ³n a 3FN 1ra. Forma Normal 
2da. Forma Normal 
Dependencias Multivaluadas 
4ta Forma Normal 
Proceso de NormalizaciÃ³n a 4FN SÃ­ntesis del proceso de normalizaciÃ³n 

Un esquema de relaciÃ³n estÃ¡ en BCNF sÃ­,  siempre que una dependencia funcional  de la forma X->A es vÃ¡lida en R,  entonces se cumple que: 
X es superclave de R  
o bien 
X->A es una dependencia funcional trivial
Forma  Normal D e 
Boyce  y 
Codd 
(FNBC) (BCNF) 
Particionar llevando un esquema a BCFN,  asegura que: 
las anomalÃ­as dejan de estar (sÃ³lo  puede quedar redundancia),  
que no se pierda informaciÃ³n y,  
en algunos casos, asegura que no se  pierdan dependencias funcionales 
En general, al  llevar un esquema a BCNF

Para normalizar un esquema (en principio) y  propiciar un buen diseÃ±o, vamos a valernos de: 
â€¢ las dependencias funcionales del esquema â€¢ las claves candidatas 
â€¢ la definiciÃ³n de BCNF 
â€¢ la descomposiciÃ³n o particionamiento del  esquema
Iniciemos con el proceso de normalizaciÃ³n de un  esquema a partir de un ejemplo 
C onsiderando que el esquema ya se encuentra en Primera Forma Normal
TeorÃ­a de DiseÃ±o de BBDD RelacionalesCÃ³mo llevar un esquema R a BCNF (cuando se puede) 
Hallar dependencias funcionales y claves candidatas 
1) Analizar si en el esquema R existe alguna dependencia funcional que lleva al esquema a no cumplir con la definiciÃ³n de BCNF 
1.1) SI existe tal dependencia funcional, particionar el esquema en dos nuevos esquemas Ri, Ri+1,  contemplando la dependencia funcional en cuestiÃ³n.  
Analizar las 2 particiones generadas preguntÃ¡ndose: 
1.1.1) Se pierde informaciÃ³n?  
1.1.1.1: NO, entonces sigo a 1.1.2 
1.1.1.2: SI. La particiÃ³n es errÃ³nea. Re analizar 
1.1.2) Se pierden Dependencias funcionales? 
1.1.2.1 NO, entonces sigo a 1.1.3 
1.1.2.2 Si. Veremos este caso en breve 
1.1.3) Determinar en quÃ© forma normal esta Ri, Ri+1, si no estÃ¡n en BCNF, reiniciar desde 1, sino pasar a 1.2 1.2) Si NO existe, el esquema estÃ¡ en BCNF 
TeorÃ­a de DiseÃ±o de BBDD Relacionales 
FIESTAS ( #salon, direcciÃ³n, capacidad, fecha_fiesta, nombre_invitado,  mesa_invitado, servicio_contratado, dni_invitado) 
Donde: 
- Hay diversos salones, pero de cada salÃ³n se conoce la direcciÃ³n y la capacidad  mÃ¡xima 
- Una fiesta se brinda en un salÃ³n y en una fecha determinada. Notar que en un  mismo salÃ³n se realizan diferentes fiestas en diferentes fechas 
- Para cada fiesta se conocen todos los servicios contratados 
- Para cada fiesta se saben quiÃ©nes son los invitados y donde se debe sentar  cada uno de ellos 
Hallar la o las claves candidatas y las dependencias funcionales
â€¦trabajandoâ€¦
TeorÃ­a de DiseÃ±o de BBDD RelacionalesFIESTAS ( #salon, direcciÃ³n, capacidad, fecha_fiesta, nombre_invitado, mesa_invitado,  servicio_contratado, dni_invitado) 
Donde: 
- Hay diversos salones, pero de cada salÃ³n se conoce la direcciÃ³n y la capacidad mÃ¡xima - Una fiesta se brinda en un salÃ³n y en una fecha determinada. Notar que en un mismo salÃ³n se  realizan diferentes fiestas en diferentes fechas 
- Para cada fiesta se conocen todos los servicios contratados 
- Para cada fiesta se saben quiÃ©nes son los invitados y donde se debe sentar cada uno de ellos 
Clave candidata 
(#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
Dependencias Funcionales 
1. #salon ðŸ¡ª direcciÃ³n, capacidad 
2. #salon, fecha_fiesta, dni_invitado ðŸ¡ª mesa_invitado 
3. dni_invitado-> nombre_invitado 
TeorÃ­a de DiseÃ±o de BBDD RelacionalesCÃ³mo llevar un esquema R a BCNF (cuando se puede) 
Hallar dependencias funcionales y claves candidatas 
1) Analizar si en el esquema R existe alguna dependencia funcional que lleva al esquema a no cumplir con la definiciÃ³n de BCNF 
1.1) SI existe tal dependencia funcional, particionar el esquema en dos nuevos esquemas Ri, Ri+1,  contemplando la dependencia funcional en cuestiÃ³n.  
Analizar las 2 particiones generadas preguntÃ¡ndose: 
1.1.1) Se pierde informaciÃ³n?  
1.1.1.1: NO, entonces sigo a 1.1.2 
1.1.1.2: SI. La particiÃ³n es errÃ³nea. Re analizar 
1.1.2) Se pierden Dependencias funcionales? 
1.1.2.1 NO, entonces sigo a 1.1.3 
1.1.2.2 Si. Veremos este caso en breve 
1.1.3) Determinar en quÃ© forma normal esta Ri, Ri+1, si no estÃ¡n en BCNF, reiniciar desde 1, sino pasar a 1.2 1.2) Si NO existe, el esquema estÃ¡ en BCNF 
TeorÃ­a de DiseÃ±o de BBDD Relacionales
FIESTAS ( #salon, direcciÃ³n, capacidad, fecha_fiesta, nombre_invitado, mesa_invitado,  
servicio_contratado, dni_invitado) 
Clave candidata 
cc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
Dependencias Funcionales 
1. #salon ðŸ¡ª direcciÃ³n, capacidad 
2. #salon, fecha_fiesta, dni_invitado ðŸ¡ª mesa_invitado 
3. dni_invitado-> nombre_invitado 
BCNF 
Para toda dependencia funcional se  

FIESTAS cumple con la definiciÃ³n de BCNF? 
cumple que: 
X es superclave de R  
o bien 
X->A es una dependencia funcional  trivial 

TeorÃ­a de DiseÃ±o de BBDD Relacionales
â€¢ FIESTAS ( #salon, direcciÃ³n, capacidad, fecha_fiesta, nombre_invitado,  
mesa_invitado, servicio_contratado, dni_invitado) 
cc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
Por ejemplo, analizo la dependencia funcional 1: 
1. #salon ðŸ¡ª direcciÃ³n, capacidad 
BCNF 
Para toda dependencia funcional se  
cumple que: 
X es superclave de R  
o bien 
X->A es una dependencia funcional  
trivial 
{#salon} no es superclave del esquema FIESTAS 
FIESTAS no cumple la definiciÃ³n de BCNF 
TeorÃ­a de DiseÃ±o de BBDD RelacionalesCÃ³mo llevar un esquema R a BCNF (cuando se puede) 
Hallar dependencias funcionales y claves candidatas 
1) Analizar si en el esquema R existe alguna dependencia funcional que lleva al esquema a no cumplir con la definiciÃ³n de BCNF 
1.1) SI existe tal dependencia funcional, particionar el esquema en dos nuevos esquemas Ri, Ri+1,  contemplando la dependencia funcional en cuestiÃ³n.  
Analizar las 2 particiones generadas preguntÃ¡ndose: 
1.1.1) Se pierde informaciÃ³n?  
1.1.1.1: NO, entonces sigo a 1.1.2 
1.1.1.2: SI. La particiÃ³n es errÃ³nea. Re analizar 
1.1.2) Se pierden Dependencias funcionales? 
1.1.2.1 NO, entonces sigo a 1.1.3 
1.1.2.2 Si. Veremos este caso en breve 
1.1.3) Determinar en quÃ© forma normal esta Ri, Ri+1, si no estÃ¡n en BCNF, reiniciar desde 1, sino pasar a 1.2 1.2) Si NO existe, el esquema estÃ¡ en BCNF 
TeorÃ­a de DiseÃ±o de BBDD Relacionalesâ€¢ FIESTAS ( #salon, direcciÃ³n, capacidad, fecha_fiesta, nombre_invitado, mesa_invitado,  

servicio_contratado, dni_invitado) 
cc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
1. #salon ðŸ¡ª direcciÃ³n, capacidad 
Dado que FIESTAS NO CUMPLE CON LA DEFINICION DE BCNF,  
Un esquema R donde vale una  dependencia funcional X->Y se  descompone como  
R1(X, Y) 
R2(R-Y) 

descompongo/particiono FIESTAS considerando la dependencia funcional 1. F1(#salon, direcciÃ³n, capacidad) 
F2 = Fiestas â€“ {direcciÃ³n, capacidad} 
Es decir, F2 tiene los siguientes atributos: 
F2 ( #salon, fecha_fiesta, nombre_invitado, mesa_invitado, servicio_contratado,  dni_invitado) 
TeorÃ­a de DiseÃ±o de BBDD Relacionales
â€¢ FIESTAS ( #salon, direcciÃ³n, capacidad, fecha_fiesta, nombre_invitado,  
mesa_invitado, servicio_contratado, dni_invitado) 
cc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
1. #salon ðŸ¡ª direcciÃ³n, capacidad 
Dado que FIESTAS NO CUMPLE CON LA DEFINICION DE BCNF, descompongo/particiono FIESTAS  considerando la df1. 
F1(#salon, direcciÃ³n, capacidad) 
F2 ( #salon, fecha_fiesta, nombre_invitado, mesa_invitado, servicio_contratado, dni_invitado) 
Con el particionamiento propuesto: 
Â¿Se perdiÃ³ informaciÃ³n?  
Â¿Se perdieron dependencias funcionales? 
TeorÃ­a de DiseÃ±o de BBDD RelacionalesCÃ³mo llevar un esquema R a BCNF (cuando se puede) 
Hallar dependencias funcionales y claves candidatas 
1) Analizar si en el esquema R existe alguna dependencia funcional que lleva al esquema a no cumplir con la definiciÃ³n de BCNF 
1.1) SI existe tal dependencia funcional, particionar el esquema en dos nuevos esquemas Ri, Ri+1,  contemplando la dependencia funcional en cuestiÃ³n.  
Analizar las 2 particiones generadas preguntÃ¡ndose: 
1.1.1) Se pierde informaciÃ³n?  
1.1.1.1: NO, entonces sigo a 1.1.2 
1.1.1.2: SI. La particiÃ³n es errÃ³nea. Re analizar 
1.1.2) Se pierden Dependencias funcionales? 
1.1.2.1 NO, entonces sigo a 1.1.3 
1.1.2.2 Si. Veremos este caso en breve 
1.1.3) Determinar en quÃ© forma normal esta Ri, Ri+1, si no estÃ¡n en BCNF, reiniciar desde 1, sino pasar a 1.2 1.2) Si NO existe, el esquema estÃ¡ en BCNF 
TeorÃ­a de DiseÃ±o de BBDD Relacionales
â€¢ FIESTAS ( #salon, direcciÃ³n, capacidad, fecha_fiesta, nombre_invitado,  
mesa_invitado, servicio_contratado, dni_invitado) 
cc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
1. #salon ðŸ¡ª direcciÃ³n, capacidad 
Dado que FIESTAS NO CUMPLE CON LA DEFINICION DE BCNF, descompongo/particiono FIESTAS  considerando la df1. 
F1(#salon, direcciÃ³n, capacidad) 
F2 ( #salon, fecha_fiesta, nombre_invitado, mesa_invitado, servicio_contratado, dni_invitado) 

R1 âˆ© R2 clave en el esquema R1  o 
R1 âˆ© R2 clave en el esquema R2 
Con el particionamiento propuesto: Â¿Se perdiÃ³ informaciÃ³n?  
Â¿Se perdieron dependencias funcionales? 

TeorÃ­a de DiseÃ±o de BBDD Relacionales
Clave candidata: (#salon, fecha_fiesta, dni_invitado, nom_contratante,  
servicio_contratado ) 
F1(#salon, direccion, capacidad) 
F2(#salon, fecha_fiesta, nom_contratante, cant_invitados, nombre_invitado,  
cant_mesas, mesa_invitado, servicio_contratado, dir_contratante, dni_invitado) 
Con el particionamiento propuesto: 
Â¿Se perdiÃ³ informaciÃ³n?  
F1 âˆ© F2 es clave en el esquema {#salon} 
Entonces, no se perdiÃ³ informaciÃ³n. 
TeorÃ­a de DiseÃ±o de BBDD Relacionales
â€¢ FIESTAS ( #salon, direcciÃ³n, capacidad, fecha_fiesta, nombre_invitado,  
mesa_invitado, servicio_contratado, dni_invitado) 
cc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
1. #salon ðŸ¡ª direcciÃ³n, capacidad 
Dado que FIESTAS NO CUMPLE CON LA DEFINICION DE BCNF, descompongo/particiono FIESTAS  considerando la df1. 
F1(#salon, direcciÃ³n, capacidad) 
F2(#salon, fecha_fiesta, nombre_invitado, mesa_invitado, servicio_contratado, dni_invitado) 

Verificar que cada una de las  
dependencias funcionales que valÃ­an en  el esquema R, sigan valiendo en alguna  de las particiones Ri.  
Con el particionamiento propuesto: Â¿Se perdiÃ³ informaciÃ³n? NO 

Â¿Se perdieron dependencias funcionales? 
TeorÃ­a de DiseÃ±o de BBDD RelacionalesCÃ³mo llevar un esquema R a BCNF (cuando se puede) 
Hallar dependencias funcionales y claves candidatas 
1) Analizar si en el esquema R existe alguna dependencia funcional que lleva al esquema a no cumplir con la definiciÃ³n de BCNF 
1.1) SI existe tal dependencia funcional, particionar el esquema en dos nuevos esquemas Ri, Ri+1,  contemplando la dependencia funcional en cuestiÃ³n.  
Analizar las 2 particiones generadas preguntÃ¡ndose: 
1.1.1) Se pierde informaciÃ³n?  
1.1.1.1: NO, entonces sigo a 1.1.2 
1.1.1.2: SI. La particiÃ³n es errÃ³nea. Re analizar 
1.1.2) Se pierden Dependencias funcionales? 
1.1.2.1 NO, entonces sigo a 1.1.3 
1.1.2.2 Si. Veremos este caso en breve 
1.1.3) Determinar en quÃ© forma normal esta Ri, Ri+1, si no estÃ¡n en BCNF, reiniciar desde 1, sino pasar a 1.2 1.2) Si NO existe, el esquema estÃ¡ en BCNF 
cc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
F1(#salon, direcciÃ³n, capacidad) 
F2(#salon, fecha_fiesta, nombre_invitado, mesa_invitado, servicio_contratado,  dni_invitado) 
Â¿Se perdieron dependencias funcionales? 
1. #salon ðŸ¡ª direcciÃ³n, capacidad 
2. #salon, fecha_fiesta, dni_invitado ðŸ¡ª mesa_invitado 
3. dni_invitado-> nombre_invitado 
Fue posible validarlo de la  

En F1, vale df1 
En F2 valen las dfs 2 y 3 
manera simple, sin necesitar  de un algoritmo particular

Entonces, no se perdieron dependencias funcionales. 
TeorÃ­a de DiseÃ±o de BBDD RelacionalesCÃ³mo llevar un esquema R a BCNF (cuando se puede) 
Hallar dependencias funcionales y claves candidatas 
1) Analizar si en el esquema R existe alguna dependencia funcional que lleva al esquema a no cumplir con la definiciÃ³n de BCNF 
1.1) SI existe tal dependencia funcional, particionar el esquema en dos nuevos esquemas Ri, Ri+1,  contemplando la dependencia funcional en cuestiÃ³n.  
Analizar las 2 particiones generadas preguntÃ¡ndose: 
1.1.1) Se pierde informaciÃ³n?  
1.1.1.1: NO, entonces sigo a 1.1.2 
1.1.1.2: SI. La particiÃ³n es errÃ³nea. Re analizar 
1.1.2) Se pierden Dependencias funcionales? 
1.1.2.1 NO, entonces sigo a 1.1.3 
1.1.2.2 Si. Veremos este caso en breve 
1.1.3) Determinar en quÃ© forma normal esta Ri, Ri+1, si no estÃ¡n en BCNF, reiniciar desde 1, sino pasar a 1.2 1.2) Si NO existe, el esquema estÃ¡ en BCNF 
TeorÃ­a de DiseÃ±o de BBDD Relacionalescc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
F1(#salon, direcciÃ³n, capacidad) 

F2(#salon, fecha_fiesta, nombre_invitado, mesa_invitado, servicio_contratado,  dni_invitado) 
Â¿F1 y F2 cumplen con la definiciÃ³n de BCNF? 
BCNF 
Para toda dependencia funcional se cumple que: 
X es superclave de R  
o bien 
X->A es una dependencia funcional trivial 

En F1 vale sÃ³lo la df1, en F1 se cumple que {#salon} es superclave, entonces F1 cumple la definiciÃ³n de BCNF 
En F2 vale valen las df2 y df3. En particular, {dni_invitado} no es superclave en F2.  Entonces, F2 no cumple con la definiciÃ³n de BCNF, descompongo/particiono F2, considerando la  dependencia funcional 3  
1. #salon ðŸ¡ª direcciÃ³n, capacidad 
2. #salon, fecha_fiesta, dni_invitado ðŸ¡ª mesa_invitado 
3. dni_invitado-> nombre_invitado 
En este caso, debo seguir part icionando, ahora con foco en F2
TeorÃ­a de DiseÃ±o de BBDD Relacionales
cc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
F1(#salon, direcciÃ³n, capacidad) 
F2(#salon, fecha_fiesta, nombre_invitado, mesa_invitado, servicio_contratado,  
dni_invitado) 
En F2 vale valen las df2 y df3. En particular, {dni_invitado} no es superclave en F2.  
Entonces, F2 no cumple con la definiciÃ³n de BCNF, descompongo/particiono F2, considerando la  dependencia funcional 3  
F3 (dni_invitado, nombre_invitado) 
F4(#salon, fecha_fiesta, mesa_invitado, servicio_contratado, dni_invitado) 
Con el particionamiento propuesto: 
Â¿Se perdiÃ³ informaciÃ³n?  
Â¿Se perdieron dependencias funcionales? 
1. #salon ðŸ¡ª direcciÃ³n, capacidad 
2. #salon, fecha_fiesta, dni_invitado ðŸ¡ª mesa_invitado 3. dni_invitado-> nombre_invitado 
TeorÃ­a de DiseÃ±o de BBDD Relacionales
cc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
F1(#salon, direcciÃ³n, capacidad) 
F2(#salon, fecha_fiesta, nombre_invitado, mesa_invitado, servicio_contratado,  
dni_invitado) 
En F2 vale valen las df2 y df3. En particular, {dni_invitado} no es superclave en F2.  
Entonces, F2 no cumple con la definiciÃ³n de BCNF, descompongo/particiono F2, considerando la  dependencia funcional 3  
F3 (dni_invitado, nombre_invitado) 
F4(#salon, fecha_fiesta, mesa_invitado, servicio_contratado, dni_invitado) 

R1 âˆ© R2 clave en el esquema R1  o 
R1 âˆ© R2 clave en el esquema R2 
Con el particionamiento propuesto: 
Â¿Se perdiÃ³ informaciÃ³n?  
Â¿Se perdieron dependencias funcionales? 

1. #salon ðŸ¡ª direcciÃ³n, capacidad 
2. #salon, fecha_fiesta, dni_invitado ðŸ¡ª mesa_invitado 3. dni_invitado-> nombre_invitado 
TeorÃ­a de DiseÃ±o de BBDD Relacionales
cc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
F1(#salon, direcciÃ³n, capacidad) 
F2(#salon, fecha_fiesta, nombre_invitado, mesa_invitado, servicio_contratado,  
dni_invitado) 
En F2 vale valen las df2 y df3. En particular, {dni_invitado} no es superclave en F2.  
Entonces, F2 no cumple con la definiciÃ³n de BCNF, descompongo/particiono F2, considerando la  dependencia funcional 3  
F3 (dni_invitado, nombre_invitado) 
F4(#salon, fecha_fiesta, mesa_invitado, servicio_contratado, dni_invitado) 
Â¿Con el particionamiento propuesto se perdiÃ³ informaciÃ³n? 
F3 âˆ© F4 es clave en el esquema {dni_invitado} 
Entonces, no se perdiÃ³ informaciÃ³n. 
TeorÃ­a de DiseÃ±o de BBDD Relacionales
cc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
F1(#salon, direcciÃ³n, capacidad) 
F2(#salon, fecha_fiesta, nombre_invitado, mesa_invitado, servicio_contratado,  
dni_invitado) 
En F2 vale valen las df2 y df3. En particular, {dni_invitado} no es superclave en F2.  
Entonces, F2 no cumple con la definiciÃ³n de BCNF, descompongo/particiono F2, considerando la  dependencia funcional 3  
F3 (dni_invitado, nombre_invitado) 
F4(#salon, fecha_fiesta, mesa_invitado, servicio_contratado, dni_invitado) 
Con el particionamiento propuesto: 

Verificar que cada una de las  
dependencias funcionales que valÃ­an en  el esquema R, sigan valiendo en alguna  de las particiones Ri.  
Â¿Se perdiÃ³ informaciÃ³n?  
Â¿Se perdieron dependencias funcionales? 
1. #salon ðŸ¡ª direcciÃ³n, capacidad 
2. #salon, fecha_fiesta, dni_invitado ðŸ¡ª mesa_invitado 3. dni_invitado-> nombre_invitado 

TeorÃ­a de DiseÃ±o de BBDD Relacionales
cc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
F1(#salon, direcciÃ³n, capacidad) 
F2(#salon, fecha_fiesta, nombre_invitado, mesa_invitado, servicio_contratado,  
dni_invitado) 
En F2 vale valen las df2 y df3. En particular, {dni_invitado} no es superclave en F2.  
Entonces, F2 no cumple con la definiciÃ³n de BCNF, descompongo/particiono F2, considerando la  dependencia funcional 3  
F3 (dni_invitado, nombre_invitado) 
F4(#salon, fecha_fiesta, mesa_invitado, servicio_contratado, dni_invitado) 
Â¿Con el particionamiento propuesto se perdieron dependencias funcionales? 
En F3 vale la dependencia funcional 3. {dni_invitado} es superclave en F3. Entonces, F3 cumple con  la definiciÃ³n de BCNF. 
En F4 vale la dependencia funcional 2. {#salon, fecha_fiesta, dni_invitado } NO es superclave en  F4. Entonces, F4 NO cumple con la definiciÃ³n de BCNF. 
En este caso, debo seguir part icionando, ahora con foco en F4
TeorÃ­a de DiseÃ±o de BBDD Relacionales
cc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
F3 (dni_invitado, nombre_invitado) 
F4(#salon, fecha_fiesta, mesa_invitado, servicio_contratado, dni_invitado) 
Dado que F4 NO cumple con la definiciÃ³n de BCNF, los particiono considerando la dependencia  funcional 2 
F5 (#salon, fecha_fiesta, dni_invitado, mesa_invitado) 
F6(#salon, fecha_fiesta, servicio_contratado, dni_invitado) 

R1 âˆ© R2 clave en el esquema R1  o 
R1 âˆ© R2 clave en el esquema R2 
Con el particionamiento propuesto: 
Â¿Se perdiÃ³ informaciÃ³n?  
Â¿Se perdieron dependencias funcionales? 

1. #salon ðŸ¡ª direcciÃ³n, capacidad 
2. #salon, fecha_fiesta, dni_invitado ðŸ¡ª mesa_invitado 3. dni_invitado-> nombre_invitado 
TeorÃ­a de DiseÃ±o de BBDD Relacionales
cc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
F3 (dni_invitado, nombre_invitado) 
F4(#salon, fecha_fiesta, mesa_invitado, servicio_contratado, dni_invitado) 
Dado que F4 NO cumple con la definiciÃ³n de BCNF, los particiono considerando la dependencia  funcional 2 
F5 (#salon, fecha_fiesta, dni_invitado, mesa_invitado) 
F6(#salon, fecha_fiesta, servicio_contratado, dni_invitado) 
Â¿Con el particionamiento propuesto se perdiÃ³ informaciÃ³n? 
F5 âˆ© F6 es clave en el esquema {#salon, fecha_fiesta, dni_invitado} 
Entonces, no se perdiÃ³ informaciÃ³n. 
1. #salon ðŸ¡ª direcciÃ³n, capacidad 
2. #salon, fecha_fiesta, dni_invitado ðŸ¡ª mesa_invitado 3. dni_invitado-> nombre_invitado 
TeorÃ­a de DiseÃ±o de BBDD Relacionales
cc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
F3 (dni_invitado, nombre_invitado) 
F4(#salon, fecha_fiesta, mesa_invitado, servicio_contratado, dni_invitado) 
Dado que F4 NO cumple con la definiciÃ³n de BCNF, los particiono considerando la dependencia  funcional 2 
F5 (#salon, fecha_fiesta, dni_invitado, mesa_invitado) 
F6(#salon, fecha_fiesta, servicio_contratado, dni_invitado) 
Con el particionamiento propuesto: 

Verificar que cada una de las  
dependencias funcionales que valÃ­an en  el esquema R, sigan valiendo en alguna  de las particiones Ri.  
Â¿Se perdiÃ³ informaciÃ³n?  
Â¿Se perdieron dependencias funcionales? 
1. #salon ðŸ¡ª direcciÃ³n, capacidad 
2. #salon, fecha_fiesta, dni_invitado ðŸ¡ª mesa_invitado 3. dni_invitado-> nombre_invitado 

TeorÃ­a de DiseÃ±o de BBDD Relacionales
cc: (#salon, fecha_fiesta, dni_invitado, servicio_contratado ) 
F3 (dni_invitado, nombre_invitado) 
F4(#salon, fecha_fiesta, mesa_invitado, servicio_contratado, dni_invitado) 
Dado que F4 NO cumple con la definiciÃ³n de BCNF, los particiono considerando la dependencia  funcional 2 
F5 (#salon, fecha_fiesta, dni_invitado, mesa_invitado) 
F6(#salon, fecha_fiesta, servicio_contratado, dni_invitado) 
Â¿Con el particionamiento propuesto se perdieron dependencias funcionales? 
En F5 vale la dependencia funcional 2. {#salon, fecha_fiesta, dni_invitado} es superclave en F5.  Entonces, F5 cumple con la definiciÃ³n de BCNF. 
En F6 todos los atributos forman parte de la clave, Cualquier dependencia funcional que detectva a ser trivial. F6 cumple con la definiciÃ³n de BCNF. 
BCNF 

Para toda dependencia funcional se cumple que: 
X es superclave de R  
o bien 
X->A es una dependencia funcional trivial 
1. #salon ðŸ¡ª direcciÃ³n, capacidad 
2. #salon, fecha_fiesta, dni_invitado ðŸ¡ª mesa_invitado 3. dni_invitado-> nombre_invitado 

TeorÃ­a de DiseÃ±o de BBDD RelacionalesCÃ³mo llevar un esquema R a BCNF (cuando se puede) 
Hallar dependencias funcionales y claves candidatas 
1) Analizar si en el esquema R existe alguna dependencia funcional que lleva al esquema a no cumplir con la definiciÃ³n de BCNF 
1.1) SI existe tal dependencia funcional, particionar el esquema en dos nuevos esquemas Ri, Ri+1,  contemplando la dependencia funcional en cuestiÃ³n.  
Analizar las 2 particiones generadas preguntÃ¡ndose: 
1.1.1) Se pierde informaciÃ³n?  
1.1.1.1: NO, entonces sigo a 1.1.2 
1.1.1.2: SI. La particiÃ³n es errÃ³nea. Re analizar 
1.1.2) Se pierden Dependencias funcionales? 
1.1.2.1 NO, entonces sigo a 1.1.3 
1.1.2.2 Si. Veremos este caso en breve 
1.1.3) Determinar en quÃ© forma normal esta Ri, Ri+1, si no estÃ¡n en BCNF, reiniciar desde 1, sino pasar a 1.2 1.2) Si NO existe, el esquema estÃ¡ en BCNF 
TeorÃ­a de DiseÃ±o de BBDD Relacionales
Las particiones del FIESTAS, que quedaron en BCNF, son: 
F1(#salon, direccion, capacidad) 
F3(dni_invitado, nombre_invitado) 
F5(#salon, fecha_fiesta,dni_invitado, mesa_invitado) 
F6(#salon, fecha_fiesta,dni_invitado, servicio_contratado) 
El esquema FIESTAS queda asÃ­ normalizado hasta la Forma Normal de Boyce y Codd 
TeorÃ­a de DiseÃ±o de BBDD Relacionales
Las particiones del FIESTAS, que quedaron en BCNF, son: 
F1(#salon, direccion, capacidad) 
F3(dni_invitado, nombre_invitado) 
F5(#salon, fecha_fiesta,dni_invitado, mesa_invitado) 
F6(#salon, fecha_fiesta,dni_invitado, servicio_contratado) 
El esquema FIESTAS queda asÃ­ normalizado hasta la Forma Normal de Boyce y Codd 
TeorÃ­a de DiseÃ±o de BBDD Relacionales 

CÃ³mo llevar un esquema R a BCNF (cuando se puede) 
Hallar dependencias funcionales y claves candidatas 
Proceso para  intentar llevar el  esquema a BCNF

1) Analizar si en el esquema R existe alguna dependencia funcional que lleva al esquema a no cumplir con la definiciÃ³n de BCNF 
1.1) SI existe tal dependencia funcional, particionar el esquema en dos nuevos esquemas Ri, Ri+1,  contemplando la dependencia funcional en cuestiÃ³n.  
Analizar las 2 particiones generadas preguntÃ¡ndose: 
1.1.1) Se pierde informaciÃ³n?  
1.1.1.1: NO, entonces sigo a 1.1.2 
1.1.1.2: SI. La particiÃ³n es errÃ³nea. Re analizar 
1.1.2) Se pierden Dependencias funcionales? 
1.1.2.1 NO, entonces sigo a 1.1.3 
1.1.2.2 Si. Veremos este caso en breve 
1.1.3) Determinar en quÃ© forma normal esta Ri, Ri+1, si no estÃ¡n en BCNF, reiniciar desde 1, sino pasar a 1.2 1.2) Si NO existe, el esquema estÃ¡ en BCNF 
TeorÃ­a de DiseÃ±o de BBDD Relacionales
â€¢ Hemos visto 
â€“Como llevar un esquema a BCNF cuando no se pierde informaciÃ³n ni dependencias  funcionales 
â€“En particular, vimos el caso en el que los atributos de todas las dependencias  funcionales quedaron todos incluidos en alguna de las particiones generadas â€¢ ValidaciÃ³n simple 
â€¢ Resta ver: 
â€“QuÃ© sucede cuando los atributos de alguna dependencia funcional quedaron  distribuidos en mÃ¡s de una particiÃ³n 
â€¢ ValidaciÃ³n formal mediante un algoritmo 
â€“QuÃ© hacer en el caso de que alguna dependencia funcional se pierda y no se  pueda avanzar con el proceso visto para llevar el esquema a BCNF 
E jercicio PrÃ¡ctico

Actividades 
Determinar la o las claves  candidatas 
Hallar las dependencias funcionales 
Iniciar el proceso de  normalizaciÃ³n para llevar el esquema a BCNF

TeorÃ­a de DiseÃ±o de BBDD Relacionales
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) 
Donde: 
â€“Un paciente tiene asignado para cada hospital un nÃºmero de legajo 
â€“Un legajo en un hospital se asigna a una Ãºnica persona 
â€“En un hospital trabajan muchos mÃ©dicos y un mÃ©dico puede trabajar en diversos hospitales â€“Un mÃ©dico atiende a muchos pacientes 
â€“Cada hospital posee un nombre y el mismo nombre se puede repetir para diferentes  hospitales 
â€“Un paciente se atiende en muchos hospitales y de cada hospital que se atiende se registran  los mÃ©dicos que lo atienden 
â€¦trabajandoâ€¦
â€¢ Ejercicio 
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajopaciente, dniMedico) Donde: 
â€“ Un paciente tiene asignado para cada hospital un nÃºmero de legajo 
â€“ Un legajo en un hospital se asigna a una Ãºnica persona 
â€“ En un hospital trabajan muchos mÃ©dicos y un mÃ©dico puede trabajar en diversos hospitales â€“ Un mÃ©dico atiende a muchos pacientes 
â€“ Cada hospital posee un nombre y el mismo nombre se puede repetir para diferentes  hospitales 
â€“ Un paciente se atiende en muchos hospitales y de cada hospital que se atiende se registran  los mÃ©dicos que lo atienden 
Dependencias Funcionales 
df1) codHospital -> nombreHospital 
df2) legajoPaciente, codHospital -> dniPaciente 
df3) dniPaciente, codHospital -> legajoPaciente
Claves Candidatas 
cc1) {codHospital, legajoPaciente, dniMedico} 
cc2) {codHospital, dniPaciente, dniMedico} 
Analizo si el esquema cumple BCNF
â€¢ Ejercicio 
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) 
Dependencias Funcionales 
df1) codHospital -> nombreHospital 
df2) legajoPaciente, codHospital -> dniPaciente 
df3) dniPaciente, codHospital -> legajoPaciente 
Claves Candidatas 
cc1) {codHospital, legajoPaciente, dniMedico} 
cc2) {codHospital, dniPaciente, dniMedico} 
ATENCIONES cumple con la definiciÃ³n de BCNF? 
Para toda dependencia funcional se cumple que: 
X es superclave de R  
o bien 
X->A es una dependencia funcional trivial
â€¢ Ejercicio 
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) 
Dependencias Funcionales 
df1) codHospital -> nombreHospital 
df2) legajoPaciente, codHospital -> dniPaciente 
df3) dniPaciente, codHospital -> legajoPaciente 
Claves Candidatas 
cc1) {codHospital, legajoPaciente, dniMedico} 
cc2) {codHospital, dniPaciente, dniMedico} 
CÃ³mo el esquema ATENCIONES no cumple con la definiciÃ³n  de BCNF, ya que al menos encontramos a la df1 donde  {codHospital} no es superclave del esquema ATENCIONES y  sabemos que se puede particionar para eliminar anomalÃ­as,  procedemos a particionar ATENCIONES contemplando la df1
1. codHospital -> nombreHospital 
â€¢ Ejercicio 
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) 
Dependencias Funcionales 
df1) codHospital -> nombreHospital 
df2) legajoPaciente, codHospital -> dniPaciente 
df3) dniPaciente, codHospital -> legajoPaciente 
Claves Candidatas 
cc1) {codHospital, legajoPaciente, dniMedico} 
cc2) {codHospital, dniPaciente, dniMedico} 
CÃ³mo el esquema ATENCIONES no cumple con la definiciÃ³n de BCNF, ya que al  menos encontramos a la df1 donde {codHospital} no es superclave del esquema  ATENCIONES y sabemos que se puede particionar para eliminar anomalÃ­as,  procedemos a particionar ATENCIONES contemplando la df1.  
Al particionar, tenemos: 
A1(codHospital, nombreHospital) 
A2 (codHospital, dniPaciente, legajoPaciente, dniMedico)
â€¢ Ejercicio 
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) 
Dependencias Funcionales 
df1) codHospital -> nombreHospital 
df2) legajoPaciente, codHospital -> dniPaciente 
df3) dniPaciente, codHospital -> legajoPaciente 
Claves Candidatas 
cc1) {codHospital, legajoPaciente, dniMedico} 
cc2) {codHospital, dniPaciente, dniMedico} 
A1(codHospital, nombreHospital) 
A2 (codHospital, dniPaciente, legajoPaciente, dniMedico) Con el particionamiento propuesto: 
Â¿Se perdiÃ³ informaciÃ³n?  
Â¿Se perdieron dependencias funcionales?
â€¢ Ejercicio 
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) 
Dependencias Funcionales 
df1) codHospital -> nombreHospital 
df2) legajoPaciente, codHospital -> dniPaciente 
df3) dniPaciente, codHospital -> legajoPaciente 
Claves Candidatas 
cc1) {codHospital, legajoPaciente, dniMedico} 
cc2) {codHospital, dniPaciente, dniMedico} 
A1(codHospital, nombreHospital) 
A2 (codHospital, dniPaciente, legajoPaciente, dniMedico) Con el particionamiento propuesto: 
Â¿Se perdiÃ³ informaciÃ³n?  
A1 âˆ© A2 es clave en el esquema ATENCIONES , {codHospital} 
Entonces no se perdiÃ³ informaciÃ³n
â€¢ Ejercicio 
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) 
Dependencias Funcionales 
df1) codHospital -> nombreHospital 
df2) legajoPaciente, codHospital -> dniPaciente 
df3) dniPaciente, codHospital -> legajoPaciente 
Claves Candidatas 
cc1) {codHospital, legajoPaciente, dniMedico} 
cc2) {codHospital, dniPaciente, dniMedico} 
A1(codHospital, nombreHospital) 
A2 (codHospital, dniPaciente, legajoPaciente, dniMedico) 
Con el particionamiento propuesto: 
Â¿Se perdieron dependencias funcionales? 
En A1, vale df1 
En A2 valen las dfs 2 y 3 
Entonces, no se perdieron dependencias funcionales.
â€¢ Ejercicio 
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) 
Dependencias Funcionales 
df1) codHospital -> nombreHospital 
df2) legajoPaciente, codHospital -> dniPaciente 
df3) dniPaciente, codHospital -> legajoPaciente 
Claves Candidatas 
cc1) {codHospital, legajoPaciente, dniMedico} 
cc2) {codHospital, dniPaciente, dniMedico} 
A1(codHospital, nombreHospital) 
A2 (codHospital, dniPaciente, legajoPaciente, dniMedico) Â¿Ambos esquemas quedaron en BCNF? 
â€¢En A1, vale df1. Donde {codHospital} es superclave del esquema  A1. A1 cumple BCNF. 
â€¢En A2 valen las dfs 2 y 3. En particular, existe la df2, donde  {legajoPaciente, codHospital } no es superclave de A2. Entonces,  podemos afirmar que no cumple BCNF
â€¢ Ejercicio 
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) 
Dependencias Funcionales 
df1) codHospital -> nombreHospital 
df2) legajoPaciente, codHospital -> dniPaciente 
df3) dniPaciente, codHospital -> legajoPaciente 
Claves Candidatas 
cc1) {codHospital, legajoPaciente, dniMedico} 
cc2) {codHospital, dniPaciente, dniMedico} 
A2 (codHospital, dniPaciente, legajoPaciente, dniMedico) 
â€¢En A2 valen las dfs 2 y 3. En particular, existe la df2, donde  {legajoPaciente, codHospital } no es superclave de A2. Entonces,  podemos afirmar que no cumple BCNF. 
â€¢Por lo antes mencionado, particionamos A2, para llevar a BCNF el  esquema 
A3 (codHospital,legajoPaciente, dniPaciente) 
A4 (codHospital,legajoPaciente, dniMedico)
â€¢ Ejercicio 
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) 
Dependencias Funcionales 
df1) codHospital -> nombreHospital 
df2) legajoPaciente, codHospital -> dniPaciente 
df3) dniPaciente, codHospital -> legajoPaciente 
Claves Candidatas 
cc1) {codHospital, legajoPaciente, dniMedico} 
cc2) {codHospital, dniPaciente, dniMedico} 
A3 (codHospital,legajoPaciente, dniPaciente) 
A4 (codHospital,legajoPaciente, dniMedico) 
Â¿Ambos esquemas quedaron en BCNF? 
â€¢En A3, vale df2 y df3.  
â€¢Â¿A3 estÃ¡ en BCNF?
â€¢ Ejercicio 
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) A3 (codHospital,legajoPaciente, dniPaciente) 
A4 (codHospital,legajoPaciente, dniMedico) 
â€¢En A3, vale df2 ydf3.  
df2) legajoPaciente, codHospital -> dniPaciente 
df3) dniPaciente, codHospital -> legajoPaciente 
â€¢Â¿CuÃ¡les son las claves candidatas de A3?  
cc1{legajoPaciente, codHospital}  
cc2{dniPaciente, codHospital} 
A3 cumple con la definiciÃ³n de BCNF? 
Para toda dependencia funcional , de la forma X->A, vÃ¡lida en A3 se cumple que: 
X es superclave de R  
o bien 
X->A es una dependencia funcional trivial
â€¢ Ejercicio 
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) A3 (codHospital,legajoPaciente, dniPaciente) 
A4 (codHospital,legajoPaciente, dniMedico) 
â€¢En A3, vale df2 ydf3.  
df2) legajoPaciente, codHospital -> dniPaciente 
df3) dniPaciente, codHospital -> legajoPaciente 
â€¢Â¿CuÃ¡les son las claves candidatas de A3?  
cc1{legajoPaciente, codHospital}  
cc2{dniPaciente, codHospital} 
A3 cumple con la definiciÃ³n de BCNF? 
Si, cumple con la definiciÃ³n, los determinantes de ambas  dependencias funcionales son clave (un caso particular de superclave)  en A3
â€¢ Ejercicio 
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) 
Dependencias Funcionales 
df1) codHospital -> nombreHospital 
df2) legajoPaciente, codHospital -> dniPaciente 
df3) dniPaciente, codHospital -> legajoPaciente 
Claves Candidatas 
cc1) {codHospital, legajoPaciente, dniMedico} 
cc2) {codHospital, dniPaciente, dniMedico} 
A3 (codHospital,legajoPaciente, dniPaciente) 
A4 (codHospital,legajoPaciente, dniMedico) 
A4 cumple con la definiciÃ³n de BCNF? 
â€¢En A4, todos los atributos forman parte de la clave del esquema.  Cualquier dependencia que se halle va a ser trivial. A4 estÃ¡ en BCNF.
â€¢ Ejercicio 
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) 
Dependencias Funcionales 
df1) codHospital -> nombreHospital 
df2) legajoPaciente, codHospital -> dniPaciente 
df3) dniPaciente, codHospital -> legajoPaciente 
Claves Candidatas 
cc1) {codHospital, legajoPaciente, dniMedico} 
cc2) {codHospital, dniPaciente, dniMedico} 
A3 (codHospital,legajoPaciente, dniPaciente) 
A4 (codHospital,legajoPaciente, dniMedico) 
Â¿QuÃ© pasÃ³ con la cc2? 
â€¢Al decidir particionar A2 contemplando la df2, se define en ese  punto del proceso a la cc1 como clave del esquema. 
Cierre del proceso hasta BCNF sobre el esquema ATENCIONES
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) 
Esquemas que cumplen BCNF:
A1(codHospital, nombreHospital) 
A3 (codHospital,legajoPaciente, dniPaciente) 
A4 (codHospital,legajoPaciente, dniMedico) 
Clave Primaria 
{codHospital, legajoPaciente, dniMedico} 
ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) Esquemas que cumplen BCNF: 

A1(codHospital, nombreHospital) 
A3 (codHospital,legajoPaciente, dniPaciente) A4 (codHospital,legajoPaciente, dniMedico) 
Clave Primaria 
{codHospital, legajoPaciente, dniMedico} 
Notar que, el Ãºltimo  
esquema que llevo a BCNF,  tiene todos los atributos de  una de las claves candidatas

ATENCIONES(codHospital, nombreHospital, dniPaciente, legajoPaciente, dniMedico) 
Esquemas que cumplen BCNF: 
A1(codHospital, nombreHospital) 

A3 (codHospital,legajoPaciente, dniPaciente) A4 (codHospital,legajoPaciente, dniMedico) 
Clave Primaria 
{codHospital, legajoPaciente, dniMedico} 
Aun puede haber  redundancia en A4

TeorÃ­a de diseÃ±o de BBDD Relacionales AnÃ¡lisis de pÃ©rdida de dependencias
TeorÃ­a de DiseÃ±o de BBDD Relacionales
â€¢ Hemos visto 
â€“Como llevar un esquema a BCNF cuando no se pierde informaciÃ³n ni dependencias  funcionales 
â€“En particular, vimos el caso en el que los atributos de todas las dependencias  funcionales quedaron todos incluidos en alguna de las particiones generadas â€¢ ValidaciÃ³n simple 
â€¢ Resta ver: 
â€“QuÃ© sucede cuando los atributos de alguna dependencia funcional quedaron  distribuidos en mÃ¡s de una particiÃ³n 
â€¢ ValidaciÃ³n formal mediante un algoritmo 
â€“QuÃ© hacer en el caso de que alguna dependencia funcional se pierda y no se  pueda avanzar con el proceso visto para llevar el esquema a BCNF 

Al descomponer, no se debe perder:  InformaciÃ³n 
Dependencias funcionales 
ValidaciÃ³n simple 
ValidaciÃ³n formal mediante un  algoritmo
â€¦vimos para la  descomposiciÃ³n de un esquema 

TeorÃ­a de DiseÃ±o de BBDD RelacionalesSupongamos: 
R(a,b,c,d)  
Donde vale: 
F = {aðŸ¡ªb, bðŸ¡ªc, cðŸ¡ªd, dðŸ¡ªa} 
Y alguien propone el siguiente particionamiento del esquema R 

R1(a,b) 
R2(b,c) 
R3(c,d) 
No se pierde informaciÃ³n 
Â¿Se pierden dependencias funcionales? 
aðŸ¡ªb vale en R1 
bðŸ¡ªc vale en R2 
cðŸ¡ªd vale en R3 
d ðŸ¡ªa?????? 
Res = x 
Mientras Res cambia 
Para i= 1 _a_ cant_de_ particiones_realizadas Res = Res âˆª ((Res âˆ© Ri)+ âˆ© Ri) 
Donde: 
X es el determinante de la dependencia funcional que quiero  analizar si se perdiÃ³.  
Res es un temporal donde se van guardando los atributos que se  pueden recuperar en cada iteraciÃ³n. 
Ri es el conjunto de atributos de la particiÃ³n representada por Ri ((Res âˆ© Ri)+ âˆ© Ri), asegura que quedan sÃ³lo los atributos que  pertenecen a la particiÃ³n que se estÃ¡ tratando.
Algoritmo para  analizar la pÃ©rdida  de dependencias  funcionales 

TeorÃ­a de DiseÃ±o de BBDD RelacionalesSupongamos: 
R(a,b,c,d)  
Donde vale: 
F = {aðŸ¡ªb, bðŸ¡ªc, cðŸ¡ªd, dðŸ¡ªa} 
Y alguien propone el siguiente particionamiento del esquema R 

R1(a,b) 
R2(b,c) 
R3(c,d) 
No se pierde informaciÃ³n 
Â¿Se pierden dependencias funcionales? 
aðŸ¡ªb vale en R1 
bðŸ¡ªc vale en R2 
cðŸ¡ªd vale en R3 
d ðŸ¡ªa?????? 

Res = ? 
Mientras Res cambia 
Para i= 1_a_cant_de_ particiones_realizadas Res = Res âˆª ((Res âˆ© Ri)+ âˆ© Ri) 
Res= d 
R(a,b,c,d) F= {a->b, b ->c, c->d, d->a} R1(a,b) R2(b,c) R3(c,d) 
dðŸ¡ªa ? 
i=2 
X+  
Result:= X 
While (hay cambios en result) do 
For (cada dependencia funcional Y->Z en F )  do 
if (Y âŠ† result) then 
result := result âˆª Z

i=1 
âˆ… 
Res= {c,d} âˆª (({c,d} âˆ© {b,c})+ âˆ© {b,c}) 

Res= d âˆª ((d âˆ© {a,b})+ âˆ© {a,b}) = d âˆ… 
Paso i=2 
Res= d âˆª ((d âˆ© {b,c})+ âˆ© {b,c}) = d  
i=3 
Res= d âˆª ((d âˆ© {c,d})+ âˆ© {c,d}) Res= d âˆª ((d)+ âˆ© {c,d}) 
Res= d âˆª ( {a,b,c,d} âˆ© {c,d}) 
Res= d âˆª {c,d} = {c,d} 
Se itera nuevamente. 
i=1 
Res= {c,d} âˆª (({c,d} âˆ© {a,b})+ âˆ© {a,b}) = {c,d}  
Res= {c,d} âˆª ((c)+ âˆ© {b,c}) 
Res= {c,d} âˆª ({a,b,c,d} âˆ© {b,c}) 
Res= {c,d} âˆª ({b,c}) = {c,d,b}  
i=3 
Res= {c,d,b} âˆª (({c,d,b} âˆ© {c,d})+ âˆ© {c,d}) = {c,d,b} Se itera nuevamente. 
i=1 
Res= {c,d,b} âˆª (({c,d,b} âˆ© {a,b})+ âˆ© {a,b}) = {c,d,b,a} 
Se logra incorporar al atributo â€œaâ€, a partir del  atributo â€œdâ€. Entonces no se pierde la dependencia  funcional. 

TeorÃ­a de DiseÃ±o de BBDD Relacionales
Algoritmo para analizar la pÃ©rdida de dependencias funcionales  
Res = x 
Mientras Res cambia 
Para i= 1 _a_ cant_de_ particiones_realizadas 
Res = Res âˆª ((Res âˆ© Ri)+ âˆ© Ri) 
SI luego de seguir el algoritmo para detectar pÃ©rdida de dependencias, se logra incluir en  Res, todos los atributos de la dependencia funcional que sospechaba haber perdido 
Entonces NO perdÃ­ la dependencia funcional 
Puedo continuar con el anÃ¡lisis de BCNF 
CASO CONTRARIO 
PERDÃ la dependencia funcional 
NO puedo continuar con el anÃ¡lisis de BCNF 
Â¿QuÃ© hubiese pasado si  llegÃ¡bamos a que la  dependencia funcional se  perdÃ­a?
Ejem plo LIBROS
TeorÃ­a de DiseÃ±o de BBDD Relacionales
LIBROS (titulo, teatro, ciudad) 
Donde: 
â€¢ Un teatro se encuentra en una ciudad 
â€¢ para cada ciudad en la que se presenta un tÃ­tulo de libro, se conoce el teatro. â€¢ Un tÃ­tulo se presenta en diferentes ciudades 
Valen las siguientes dependencias funcionales 
df1) teatro-> ciudad 
df2) titulo, ciudad->teatro 
Claves candidatas: 
cc1: {titulo, ciudad} 
cc2: {teatro, titulo} 
TeorÃ­a de DiseÃ±o de BBDD RelacionalesLIBROS (titulo, teatro, ciudad) 
Valen las siguientes dependencias funcionales 
df1) teatro-> ciudad 
df2) titulo, ciudad->teatro 
Claves candidatas: 
cc1: {titulo, ciudad} 
cc2: {teatro, titulo} 
Â¿LIBROS cumple con la definiciÃ³n de BCNF? 
Para toda dependencia funcional se cumple que: 
X es superclave de R  
o bien 
X->A es una dependencia funcional trivial 
TeorÃ­a de DiseÃ±o de BBDD RelacionalesLIBROS (titulo, teatro, ciudad) 
Valen las siguientes dependencias funcionales 
df1) teatro-> ciudad 
df2) titulo, ciudad->teatro 
Claves candidatas: 
cc1: {titulo, ciudad} 
cc2: {teatro, titulo} 
LIBROS no cumple con la definiciÃ³n de BCNF 
Existe la df1, tal que {teatro} no es superclave del esquema.  
LIBROS (titulo, teatro, ciudad) 
Valen las siguientes dependencias funcionales 
df1) teatro-> ciudad 
df2) titulo, ciudad->teatro 
Claves candidatas: 
cc1: {titulo, ciudad} 
cc2: {teatro, titulo} 
Divido el esquema LIBROS contemplando la df1 ya que {teatro} no es  superclave de dicho esquema. 
L1(teatro, ciudad) 
L2(teatro, titulo)
LIBROS (titulo, teatro, ciudad) 
Valen las siguientes dependencias funcionales 
df1) teatro-> ciudad 
df2) titulo, ciudad->teatro 
Claves candidatas: 
cc1: {titulo, ciudad} 
cc2: {teatro, titulo} 
Divido el esquema LIBROS contemplando la df1 ya que {teatro} no es  superclave de dicho esquema. 
L1(teatro, ciudad) 
L2(teatro, titulo) 
Con el particionamiento propuesto: 
Â¿Se perdiÃ³ informaciÃ³n?  
L1 âˆ© L2 es clave en el esquema L1 {teatro} 
Â¿Se perdieron dependencias funcionales?
